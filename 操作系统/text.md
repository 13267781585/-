### 操作系统

#### 外部碎片和内部碎片
* 外部碎片：还没有分配的内存由于太小无法满足分配的要求，无法被充分利用
* 内部碎片：分配出去的内存没有被使用，系统无法利用，只有等到进程释放(解决方式：内存交换，把进程交换到磁盘并且重新读入内存分配连续空间)
* 外部碎片产生的场景：内存分段分配
* 内部碎片：内存单一连续分配、内存固定分区分配
* 外部内部碎片：内存动态分区分配、内存分页分配


#### 执行任务用多线程还是多进程
* 多线程好处：1. 上下文切换代价小(需要大量计算) 2. 创建代价小(需要频繁创建销毁) 3. 同步机制完善(任务需要通信)
* 多进程好处：1. 进程互不影响(任务独立) 2. 进程有独立的资源(任务要求内存等资源比较大)


#### 进程创建过程
* 为新进程分配一个唯一的进程标识号，并申请一个空白的 PCB，PCB 是有限的，若申请失败则创建失败；
* 为进程分配资源，此处如果资源不足，进程就会进入等待状态，以等待资源；
* 初始化 PCB；
* 进程插入到就绪队列，等待被调度运行；


#### 线程的种类
* 用户线程：存在与进程中，由进程管理，内核对进程中的线程没有感知，内核把用户线程的行为当作是进程行为进行处理，用户线程的创建、销毁等都不需要经过系统调用，每个进程维护一个线程表记录用户线程信息，通过改变堆栈指针和程序计数器实现线程切换   
* 内核线程：存在内核中，内核保存一个线程控制块，实现对线程创建、销毁等的管理