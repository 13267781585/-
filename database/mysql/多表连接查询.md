### 多表连接查询

##### 多表连接的过程
* 驱动表只需要查询一次，被驱动表需要查询多次
* 驱动表查询一条记录就进行一次驱动表的查询，不会缓存驱动表所有数据在进行被驱动表的查询
* 具体过程：
    ```sql
    SELECT * FROM t1, t2 WHERE t1.m1 > 1 AND t1.m1 = t2.m2 AND t2.n2 < 'd';
    ```
    1. 确认筛选条件
    * t1.m1 > 1
    * t1.m1 = t2.m2
    * t2.n2 < 'd'
    2. 在驱动表上查询满足条件(t1.m1 > 1)的记录，查询到满足条件一条记录后进行第三步
    ![26](.\image\26.jpg)
    3. 根据驱动表的记录，查询一次被驱动表符条件(t2.m2=2&&t2.n2 < 'd')的记录
    ![27](.\image\27.jpg)
    4. 重复执行2、3步骤


##### 连接的种类(内连接和外连接)
* 内连接和外连接区别
* 连接种类：
    1. 内连接
    ```sql
    SELECT <select_list> 
    FROM Table_A A
    INNER JOIN / JOIN / CROSS JOIN
    Table_B B
    ON A.Key = B.Key
    ```
    ![28](.\image\28.jpg)

    2. 左外连接
    ```sql
    SELECT <select_list> 
    FROM Table_A A
    LEFT JOIN
    Table_B B
    ON A.Key = B.Key
    ```
    ![29](.\image\29.jpg)

    3. 右外连接
    ```sql
    SELECT <select_list> 
    FROM Table_A A
    RIGHT JOIN
    Table_B B
    ON A.Key = B.Key
    ```
    ![30](.\image\30.jpg)

    4. 外连接
    ```sql
    SELECT <select_list> 
    FROM Table_A A
    OUTER JOIN
    Table_B B
    ON A.Key = B.Key
    ```
    ![31](.\image\31.jpg)

    5. 左连接-内连接
    ```sql
    SELECT <select_list> 
    FROM Table_A A
    LEFT JOIN
    Table_B B
    ON A.Key = B.Key
    where A.Key = NULL
    ```
    ![32](.\image\32.jpg)

    6. 右连接-内连接
    ```sql
    SELECT <select_list> 
    FROM Table_A A
    RIGHT JOIN
    Table_B B
    ON A.Key = B.Key
    where B.Key = NULL
    ```
    ![33](.\image\33.jpg)

    7. 外连接-内连接
    ```sql
    SELECT <select_list> 
    FROM Table_A A
    OUTER JOIN
    Table_B B
    ON A.Key = B.Key
    where B.Key = NULL OR 
    A.Key = NULL
    ```
    ![34](.\image\34.jpg)


##### 连接算法
1. 

转载自《MySQL是怎样运行的：从根儿上理解MySQL》
[一张图看懂 SQL 的各种 join 用法](https://mp.weixin.qq.com/s/-dRw88g2NSjD8vCci0onqQ)